<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>What&rsquo;s Brisbane Reading?</title>
    <meta name="description"
          content="Books that Brisbane is reading, based on library and book club data from the Brisbane Datastore">
    <meta name="author" content="Haikal Saadh">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <style type="text/css">
        body {
            padding-top: 60px;
            padding-bottom: 40px;
        }

        .book .info {
            height: 350px;
        }

        .book .thumbnail {
            height: 200px;
            overflow: hidden;

        }

        .book .info h4 {

            margin-bottom: 10px;
            border-bottom: 1px solid #F5F5F5;
        }


    </style>
    <link href="css/bootstrap-responsive.css" rel="stylesheet"/>

    <!-- Le fav and touch icons --> <!-- TODO
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->

</head>


<body>
<!--
<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>
            <a class="brand" href="#">Project name</a>

            <div class="nav-collapse">
                <ul class="nav">
                    <li class="active"><a href="#">Home</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>
            <! - -/.nav-collapse - - >
        </div>
    </div>
</div>
-->
<div class="container">

    <!-- Main hero unit for a primary marketing message or call to action -->
    <div class="hero-unit">
        <h1>What&rsquo;s Brisbane Reading?</h1>

        <p>A look at what Brisbane is reading, based on data from the <a
                href="http://data.brisbane.qld.gov.au/index.php/datasets/">Brisbane Datastore</a>.</p>

    </div>

    <!-- Example row of columns -->
    <div class="row">
        <div id="bookList"></div>
    </div>

    <hr>

    <footer>
        <p>&copy; Company 2012</p>
    </footer>

</div>
<!-- /container -->

<!-- Le javascript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.1.min.js"></script>
<!--
<script src="js/bootstrap-transition.js"></script>
<script src="js/bootstrap-alert.js"></script>
<script src="js/bootstrap-modal.js"></script>
<script src="js/bootstrap-dropdown.js"></script>
<script src="js/bootstrap-scrollspy.js"></script>
<script src="js/bootstrap-tab.js"></script>
<script src="js/bootstrap-tooltip.js"></script>
<script src="js/bootstrap-popover.js"></script>
<script src="js/bootstrap-button.js"></script>
<script src="js/bootstrap-collapse.js"></script>
<script src="js/bootstrap-carousel.js"></script>
<script src="js/bootstrap-typeahead.js"></script>
-->
<script>

    var books = [
        {
            "title":"The Drop",
            "author":"Michael Connelly",
            "thumbnailUrl":"sampledata/books-1.jpeg",
            "blurb":"He&#39;s been put on the DROP - Deferred Retirement Option Plan - and given three years before his retirement is enforced.",
            "eLibCatUrl":" http://elibcat.library.brisbane.qld.gov.au/uhtbin/cgisirsi/S/ZZELIBCAT/0/5/1?searchdata1=^C690402",
            "googleBooksUrl":"#"
        },
        {
            "title":"The Litigators",
            "author":"John Grisham",
            "thumbnailUrl":"sampledata/books.jpeg",
            "blurb":"The Partners at Finley &amp; Figg - all two of them - often refer to themselves as &#39;a boutique law firm.",
            "eLibCatUrl":"http://elibcat.library.brisbane.qld.gov.au/uhtbin/cgisirsi/S/ZZELIBCAT/0/5/1?searchdata1=^C692901",
            "googleBooksUrl":"#"
        },
        {
            "title":"The Confession",
            "author":"Charles Todd",
            "thumbnailUrl":"sampledata/books-2.jpeg",
            "blurb":"Scotland Yard&#39;s best detective, Inspector Ian Rutledge, must solve a dangerous case that reaches far into the past in this superb mystery in the acclaimed ...",
            "eLibCatUrl":"http://elibcat.library.brisbane.qld.gov.au/uhtbin/cgisirsi/S/ZZELIBCAT/0/5/1?searchdata1=^C698419",
            "googleBooksUrl":"#"
        }

    ];
    $(document).ready(function () {
        console.log("About to run template...");
        var templateHtml = "<div class='span3 book'><div class='info'><h3>{{=title}}</h3><h4>{{=author}}</h4><p><img src='{{=thumbnailUrl}}'</p><p>{{=blurb}}</p></div><p class='btn-group'><a class='btn' href='{{=eLibCarUrl}}'>eLibCat</a> <a class='btn' href='{{=googleBooksUrl}}'>Google Books</a></p></div>";


        $(books).each(function (i, book) {
            //$("#bookList").appendTo("div").addClass("span3").addClass("book").text(book.title);
            var bookContainer = $('<div></div>', {
                "class":'span3 book'


            }).appendTo('#bookList');
            var infoContainer = $("<div></div>", {
                class:"info"
            }).appendTo(bookContainer);

            infoContainer.append(
                    $("<h3></h3>", { text:book.title }),
                    $("<h4></h4>", {text:book.author}),
                    $("<p></p>", {html:$("<img>", {src:book.thumbnailUrl})}),
                    $("<p></p>", {class:"blurb", text:book.blurb})
            )

            infoContainer.after(
                    $("<p></p>", {class:"btn-group" }
                    ).append(
                            $("<a></a>", {class:"btn", "text":"eLibCat", href:book.eLibCatUrl }),
                            $("<a></a>", {class:"btn", "text":"Google Books", href:book.googleBooksUrl })
                    )
            );
        }); // each()
    });
</script>

</body>
</html>
